<section class="events-page">
  <h2>Events Page</h2>
  <form (ngSubmit)="onSubmit()" class="event-form">
    <label for="title">Title:</label>
    <input id="title" type="text" [value]="title()" (input)="setTitle($event.target.value)" required />

    <label for="date">Date:</label>
    <input id="date" type="date" [value]="date()" (input)="setDate($event.target.value)" required />

    <label for="startHour">Start Hour:</label>
    <input id="startHour" type="time" step="1800" [value]="startHour()" (input)="setStartHour($event.target.value)" required />

    <label for="endHour">End Hour:</label>
    <input id="endHour" type="time" step="1800" [value]="endHour()" (input)="setEndHour($event.target.value)" required />

    @if (!errorMessage()) {
        <div class="error-message">{{ errorMessage() }}</div>
        <button type="submit" [disabled]="!isFormValid()">Create Event</button>
    }
    @else {
      console.log(errorMessage());
    }
  </form>

  @if (events().length > 0)
  {
      <div class="event-list">
        <h3>Created Events</h3>
        <ul>
          @for (event of events(); track event.date) {
            <strong>{{ event.title }}</strong> â€” {{ event.date }}
            ({{ event.startHour }} - {{ event.endHour }})
          }
        </ul>
      </div>
  }
</section>
