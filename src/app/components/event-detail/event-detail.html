<div class="min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 py-6 px-4">
  <div class="max-w-6xl mx-auto">
    @if (eventsLoading()) {
    <!-- Loading State -->
    <div class="min-h-screen flex items-center justify-center">
      <div
        class="bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/20 p-12 text-center"
      >
        <div class="relative w-16 h-16 mx-auto mb-4">
          <div class="absolute inset-0 border-4 border-blue-200 rounded-full"></div>
          <div
            class="absolute inset-0 border-4 border-blue-600 rounded-full border-t-transparent animate-spin"
          ></div>
        </div>
        <p class="text-gray-600 font-medium">Evenement laden...</p>
      </div>
    </div>
    } @else if (event(); as evt) {
    <!-- Header Section -->
    <div
      class="bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/20 p-8 mb-8"
    >
      <!-- Navigation -->
      <div class="flex items-center justify-between mb-6">
        <div class="flex items-center gap-4">
          <div
            class="w-12 h-12 text-white bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center"
          >
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M12 21.5C17.2467 21.5 21.5 17.2467 21.5 12C21.5 6.7533 17.2467 2.5 12 2.5C6.7533 2.5 2.5 6.7533 2.5 12C2.5 17.2467 6.7533 21.5 12 21.5Z"
                stroke="currentColor"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M12.0053 17.2778V10.9445"
                stroke="currentColor"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M11.9562 7.44263H11.9651"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </div>
          <h2
            class="text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent"
          >
            Evenementdetails
          </h2>
        </div>

        <!-- Back Button -->
        <button
          (click)="routeEvents()"
          class="flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors duration-200"
        >
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M10 19l-7-7m0 0l7-7m-7 7h18"
            />
          </svg>
          Terug naar Evenementen
        </button>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        <div
          class="bg-gradient-to-r from-blue-500 to-blue-600 rounded-2xl p-6 text-white shadow-lg transform hover:scale-105 transition-transform duration-200"
        >
          <div class="flex items-center gap-3 mb-2">
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M17.5242 17.5242L14.8017 20.2467C14.5632 20.4855 14.2799 20.675 13.9681 20.8042C13.6563 20.9335 13.3221 21 12.9846 21C12.6471 21 12.3129 20.9335 12.0011 20.8042C11.6893 20.675 11.406 20.4855 11.1675 20.2467L4.13009 13.2093C3.40738 12.4875 3.0009 11.5083 3 10.4869V5.56839C3 4.88721 3.2706 4.23393 3.75226 3.75226C4.23393 3.2706 4.88721 3 5.56839 3H10.4869C11.5083 3.0009 12.4875 3.40738 13.2093 4.13009L20.2467 11.1675C20.4855 11.406 20.675 11.6893 20.8042 12.0011C20.9335 12.3129 21 12.6471 21 12.9846C21 13.3221 20.9335 13.6563 20.8042 13.9681C20.675 14.2799 20.4855 14.5632 20.2467 14.8017L17.5242 17.5242Z"
                stroke="currentColor"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M9.12561 11.694C10.5441 11.694 11.694 10.5441 11.694 9.12564C11.694 7.70716 10.5441 6.55725 9.12561 6.55725C7.70713 6.55725 6.55722 7.70716 6.55722 9.12564C6.55722 10.5441 7.70713 11.694 9.12561 11.694Z"
                stroke="currentColor"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>

            <span class="text-sm font-medium text-blue-100">Titel</span>
          </div>
          <p class="text-lg font-semibold">{{ evt.title }}</p>
        </div>

        <div
          class="bg-gradient-to-r from-emerald-500 to-emerald-600 rounded-2xl p-6 text-white shadow-lg transform hover:scale-105 transition-transform duration-200"
        >
          <div class="flex items-center gap-3 mb-2">
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M17 4.625H7C4.79086 4.625 3 6.41586 3 8.625V17.375C3 19.5841 4.79086 21.375 7 21.375H17C19.2091 21.375 21 19.5841 21 17.375V8.625C21 6.41586 19.2091 4.625 17 4.625Z"
                stroke="currentColor"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M3 9.625H21"
                stroke="currentColor"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M17 2.625V6.625"
                stroke="currentColor"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M7 2.625V6.625"
                stroke="currentColor"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M9 14.7143L10.6886 16.4029C10.748 16.463 10.8187 16.5107 10.8967 16.5433C10.9747 16.5759 11.0583 16.5927 11.1429 16.5927C11.2274 16.5927 11.3111 16.5759 11.389 16.5433C11.467 16.5107 11.5377 16.463 11.5972 16.4029L15 13"
                stroke="currentColor"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>

            <span class="text-sm font-medium text-emerald-100">Datum</span>
          </div>
          <p class="text-lg font-semibold">{{ evt.date }}</p>
        </div>

        <div
          class="bg-gradient-to-r from-orange-500 to-orange-600 rounded-2xl p-6 text-white shadow-lg transform hover:scale-105 transition-transform duration-200"
        >
          <div class="flex items-center gap-3 mb-2">
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M15.1719 15.1719L12.0053 12.0053V5.67194"
                stroke="currentColor"
                stroke-width="1.5"
                stroke-miterlimit="10"
                stroke-linecap="round"
              />
              <path
                d="M12 21.5C17.2467 21.5 21.5 17.2467 21.5 12C21.5 6.7533 17.2467 2.5 12 2.5C6.7533 2.5 2.5 6.7533 2.5 12C2.5 17.2467 6.7533 21.5 12 21.5Z"
                stroke="currentColor"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>

            <span class="text-sm font-medium text-orange-100">Start</span>
          </div>
          <p class="text-lg font-semibold">{{ evt.startHour }}</p>
        </div>

        <div
          class="bg-gradient-to-r from-purple-500 to-purple-600 rounded-2xl p-6 text-white shadow-lg transform hover:scale-105 transition-transform duration-200"
        >
          <div class="flex items-center gap-3 mb-2">
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M15.1719 15.1719L12.0053 12.0053V5.67194"
                stroke="currentColor"
                stroke-width="1.5"
                stroke-miterlimit="10"
                stroke-linecap="round"
              />
              <path
                d="M12 21.5C17.2467 21.5 21.5 17.2467 21.5 12C21.5 6.7533 17.2467 2.5 12 2.5C6.7533 2.5 2.5 6.7533 2.5 12C2.5 17.2467 6.7533 21.5 12 21.5Z"
                stroke="currentColor"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>

            <span class="text-sm font-medium text-purple-100">Einde</span>
          </div>
          <p class="text-lg font-semibold">{{ evt.endHour }}</p>
        </div>
      </div>
    </div>

    <!-- Timeline Section -->
    <div class="bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/20 p-8">
      <div class="flex items-center gap-4 mb-6">
        <div
          class="w-10 h-10 text-white bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center"
        >
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M18.7704 19.0711L18.6573 20.7669C18.6482 20.8903 18.5957 21.0065 18.5092 21.0949C18.4227 21.1833 18.3077 21.2382 18.1845 21.25H5.8512C5.7208 21.2478 5.59588 21.1972 5.50086 21.1078C5.40583 21.0185 5.34752 20.897 5.33731 20.7669L5.22425 19.0711C5.1821 18.4856 5.33773 17.9029 5.6662 17.4164L9.33536 12C9.43267 11.8615 9.48488 11.6964 9.48488 11.5272C9.48488 11.358 9.43267 11.1929 9.33536 11.0544L5.9437 6.55278C5.59732 6.08603 5.40998 5.5204 5.40925 4.93917V3.27417C5.40925 3.13515 5.46448 3.00183 5.56278 2.90352C5.66108 2.80522 5.7944 2.75 5.93342 2.75H18.1023C18.2413 2.75 18.3747 2.80522 18.473 2.90352C18.5713 3.00183 18.6265 3.13515 18.6265 3.27417V4.93917C18.6258 5.5204 18.4384 6.08603 18.092 6.55278L14.7209 10.9722C14.6236 11.1107 14.5714 11.2758 14.5714 11.445C14.5714 11.6142 14.6236 11.7793 14.7209 11.9178L18.349 17.3753C18.6793 17.8757 18.828 18.4743 18.7704 19.0711Z"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
            <path
              d="M9.37648 18.1667H14.6593"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
        </div>
        <h3 class="text-3xl font-bold text-gray-800">Tijdlijn</h3>
      </div>

      @if (timelineSessionsLoading()) {
      <!-- Loading State -->
      <div class="flex flex-col items-center justify-center py-12">
        <div class="relative w-16 h-16 mb-4">
          <div class="absolute inset-0 border-4 border-indigo-200 rounded-full"></div>
          <div
            class="absolute inset-0 border-4 border-indigo-600 rounded-full border-t-transparent animate-spin"
          ></div>
        </div>
        <p class="text-gray-600 font-medium">Sessies laden...</p>
      </div>
      } @else {
      <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 mb-6">
        <p class="text-gray-700 flex items-center gap-2">
          <svg
            class="w-5 h-5 text-indigo-500"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
            />
          </svg>
          <span class="font-medium"
            >Klik en sleep op de tijdlijn van een ruimte om een tijdsperiode te selecteren</span
          >
        </p>
      </div>

      <div class="bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden">
        <!-- Room labels on the left -->
        <div class="flex">
          <div class="w-32 bg-gradient-to-b from-gray-50 to-gray-100 border-r border-gray-200">
            <div class="h-16 border-b border-gray-200"></div>
            @for (room of rooms(); track room.id) {
            <div
              class="h-24 flex items-center justify-center"
              [class.border-b]="!$last"
              [class.border-gray-200]="!$last"
            >
              <div
                [class]="getRoomLabelClass($index)"
                class="text-white px-4 py-2 rounded-lg font-semibold shadow-md"
              >
                {{ room.name }}
              </div>
            </div>
            }
          </div>

          <!-- Timeline grid -->
          <div class="flex-1 overflow-x-auto">
            <!-- Time axis header -->
            <div
              class="h-16 flex border-b border-gray-200 bg-gradient-to-r from-gray-50 to-gray-100"
            >
              @for (hour of timeLabels(); track hour) {
              <div class="min-w-20 px-2 py-4 text-center border-r border-gray-200 last:border-r-0">
                <span
                  class="text-sm font-semibold text-gray-700 bg-white px-2 py-1 rounded-lg shadow-sm"
                >
                  {{ hour }}
                </span>
              </div>
              }
            </div>

            <!-- Room rows -->
            @for (room of rooms(); track room.id) {
            <div
              class="h-24 flex"
              [class.border-b]="!$last"
              [class.border-gray-200]="!$last"
              [class]="getRoomRowClass($index)"
            >
              @for (hour of timeLabels(); track $index) {
              <div
                class="min-w-20 h-full border-r border-gray-200 last:border-r-0 cursor-pointer transition-all duration-200 relative group"
                [class]="getSlotClass(room.id, $index)"
                (mousedown)="onSlotMouseDown(room.id, hour, $index)"
                (mouseenter)="onSlotMouseEnter(room.id, hour, $index)"
                (mouseup)="onSlotMouseUp()"
              >
                <div class="absolute inset-0 flex items-center justify-center p-1">
                  @if (getSessionAtSlot(room.id, $index); as session) {
                  <div
                    [class]="getSessionClass(session.id)"
                    class="text-white rounded px-2 py-1 text-xs font-medium text-center w-full h-full flex flex-col items-center justify-center shadow-md"
                  >
                    <div class="font-semibold leading-tight">{{ session.name }}</div>
                    @if (session.presenter) {
                    <div
                      [class]="getSessionPresenterClass(session.id)"
                      class="text-xs leading-tight"
                    >
                      door {{ session.presenter }}
                    </div>
                    }
                  </div>
                  } @else if (isSlotSelected(room.id, $index)) {
                  <svg
                    class="w-6 h-6 text-white"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="3"
                      d="M5 13l4 4L19 7"
                    />
                  </svg>
                  }
                </div>
              </div>
              }
            </div>
            }
          </div>
        </div>
      </div>
      }
    </div>

    <!-- Event Creation Form -->
    @if (showForm() && selection(); as sel) {
    <div
      class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4"
    >
      <div
        class="bg-white rounded-3xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto border border-gray-100"
      >
        <div class="p-8">
          <div class="flex items-center gap-4 mb-6">
            <div
              class="w-12 h-12 text-white bg-gradient-to-r from-purple-500 to-pink-600 rounded-2xl flex items-center justify-center"
            >
              <svg
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M17 4.625H7C4.79086 4.625 3 6.41586 3 8.625V17.375C3 19.5841 4.79086 21.375 7 21.375H17C19.2091 21.375 21 19.5841 21 17.375V8.625C21 6.41586 19.2091 4.625 17 4.625Z"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M3 9.625H21"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M17 2.625V6.625"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M7 2.625V6.625"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M11.9945 12.4831V17.4831"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-miterlimit="10"
                  stroke-linecap="round"
                />
                <path
                  d="M9.5 14.9885H14.5"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-miterlimit="10"
                  stroke-linecap="round"
                />
              </svg>
            </div>
            <h3
              class="text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent"
            >
              Sessie Aanmaken
            </h3>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
            <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-4">
              <div class="flex items-center gap-2 mb-2">
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M8.53125 3.21249H15.4688C16.2047 3.21249 16.9106 3.50486 17.431 4.02527C17.9514 4.54569 18.2438 5.25152 18.2438 5.98749V20.7875H5.75625V5.98749C5.75625 5.25152 6.04862 4.54569 6.56903 4.02527C7.08944 3.50486 7.79527 3.21249 8.53125 3.21249Z"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M2.75 20.7875H21.25"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M11.075 14.3125H12.925C13.293 14.3125 13.6459 14.4587 13.9061 14.7189C14.1663 14.9791 14.3125 15.332 14.3125 15.7V20.7875H9.6875V15.7C9.6875 15.332 9.83368 14.9791 10.0939 14.7189C10.3541 14.4587 10.707 14.3125 11.075 14.3125Z"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M9.225 6.91251H14.775"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M9.225 10.6125H14.775"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>

                <span class="text-sm font-medium text-blue-700">Ruimte</span>
              </div>
              <p class="text-lg font-semibold text-blue-800">{{ getRoomName(sel.room) }}</p>
            </div>

            <div class="bg-gradient-to-r from-emerald-50 to-green-50 rounded-2xl p-4">
              <div class="flex items-center gap-2 mb-2">
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M15.1719 15.1719L12.0053 12.0053V5.67194"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-miterlimit="10"
                    stroke-linecap="round"
                  />
                  <path
                    d="M12 21.5C17.2467 21.5 21.5 17.2467 21.5 12C21.5 6.7533 17.2467 2.5 12 2.5C6.7533 2.5 2.5 6.7533 2.5 12C2.5 17.2467 6.7533 21.5 12 21.5Z"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>

                <span class="text-sm font-medium text-emerald-700">Tijd</span>
              </div>
              <p class="text-lg font-semibold text-emerald-800">
                {{ sel.startSlot?.time }} - {{ getNextTimeSlot(sel.endSlot?.time || '') }}
              </p>
            </div>
          </div>

          <form (ngSubmit)="submitEvent()" class="space-y-6">
            <div class="space-y-2">
              <label
                for="eventName"
                class="block text-sm font-semibold text-gray-700 flex items-center gap-2"
              >
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M17.5242 17.5242L14.8017 20.2467C14.5632 20.4855 14.2799 20.675 13.9681 20.8042C13.6563 20.9335 13.3221 21 12.9846 21C12.6471 21 12.3129 20.9335 12.0011 20.8042C11.6893 20.675 11.406 20.4855 11.1675 20.2467L4.13009 13.2093C3.40738 12.4875 3.0009 11.5083 3 10.4869V5.56839C3 4.88721 3.2706 4.23393 3.75226 3.75226C4.23393 3.2706 4.88721 3 5.56839 3H10.4869C11.5083 3.0009 12.4875 3.40738 13.2093 4.13009L20.2467 11.1675C20.4855 11.406 20.675 11.6893 20.8042 12.0011C20.9335 12.3129 21 12.6471 21 12.9846C21 13.3221 20.9335 13.6563 20.8042 13.9681C20.675 14.2799 20.4855 14.5632 20.2467 14.8017L17.5242 17.5242Z"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M9.12561 11.694C10.5441 11.694 11.694 10.5441 11.694 9.12564C11.694 7.70716 10.5441 6.55725 9.12561 6.55725C7.70713 6.55725 6.55722 7.70716 6.55722 9.12564C6.55722 10.5441 7.70713 11.694 9.12561 11.694Z"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>

                Evenementnaam
              </label>
              <input
                id="eventName"
                type="text"
                [value]="eventName()"
                (input)="eventName.set($any($event.target).value)"
                required
                class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-4 focus:ring-purple-100 focus:border-purple-500 transition-all duration-200 bg-white/80 backdrop-blur-sm"
                placeholder="Voer evenementnaam in..."
              />
            </div>

            <div class="space-y-2">
              <label class="block text-sm font-semibold text-gray-700 flex items-center gap-2">
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M12 21.5C17.2467 21.5 21.5 17.2467 21.5 12C21.5 6.7533 17.2467 2.5 12 2.5C6.7533 2.5 2.5 6.7533 2.5 12C2.5 17.2467 6.7533 21.5 12 21.5Z"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M6.3739 19.6528C6.90736 18.6208 7.71438 17.7554 8.70668 17.1513C9.69897 16.5472 10.8383 16.2277 12 16.2277C13.1617 16.2277 14.301 16.5472 15.2933 17.1513C16.2857 17.7554 17.0926 18.6208 17.6261 19.6528"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M12 13.0556C13.8772 13.0556 15.3989 11.5339 15.3989 9.6567C15.3989 7.77954 13.8772 6.25781 12 6.25781C10.1228 6.25781 8.60114 7.77954 8.60114 9.6567C8.60114 11.5339 10.1228 13.0556 12 13.0556Z"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>

                Presentator
              </label>
              <div
                class="w-full px-4 py-3 border border-gray-300 rounded-xl bg-gradient-to-r from-green-50 to-emerald-50 border-emerald-200"
              >
                <div class="flex items-center gap-2">
                  <svg
                    class="w-4 h-4 text-emerald-600"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
                    />
                  </svg>
                  <span class="text-emerald-700 font-medium">{{ presenter() }}</span>
                  <span class="text-emerald-600 text-sm">(Huidige gebruiker)</span>
                </div>
              </div>
            </div>

            <div class="space-y-2">
              <label
                for="sessionType"
                class="block text-sm font-semibold text-gray-700 flex items-center gap-2"
              >
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M8.88 21.25H18.75C19.413 21.25 20.0489 20.9866 20.5178 20.5178C20.9866 20.0489 21.25 19.413 21.25 18.75V15.12C21.2447 14.4604 20.979 13.8297 20.5107 13.3651C20.0425 12.9006 19.4096 12.64 18.75 12.64H17.48"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M11.38 18.73L17.48 12.62L19.35 10.75C19.5825 10.5186 19.767 10.2436 19.8929 9.9407C20.0188 9.6378 20.0836 9.31302 20.0836 8.985C20.0836 8.65698 20.0188 8.3322 19.8929 8.0293C19.767 7.72641 19.5825 7.45138 19.35 7.22L16.78 4.65C16.5486 4.41749 16.2736 4.23299 15.9707 4.10709C15.6678 3.98119 15.343 3.91638 15.015 3.91638C14.687 3.91638 14.3622 3.98119 14.0593 4.10709C13.7564 4.23299 13.4814 4.41749 13.25 4.65L11.38 6.52"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M8.88 2.75H5.25C3.86929 2.75 2.75 3.86929 2.75 5.25V18.75C2.75 20.1307 3.86929 21.25 5.25 21.25H8.88C10.2607 21.25 11.38 20.1307 11.38 18.75V5.25C11.38 3.86929 10.2607 2.75 8.88 2.75Z"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M7.06501 18.5936C7.94512 18.5936 8.65859 17.8801 8.65859 17C8.65859 16.1199 7.94512 15.4064 7.06501 15.4064C6.18489 15.4064 5.47142 16.1199 5.47142 17C5.47142 17.8801 6.18489 18.5936 7.06501 18.5936Z"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>

                Evenementtype
              </label>
              <div
                class="w-full px-4 py-3 border border-gray-300 rounded-xl focus-within:ring-4 focus-within:ring-blue-200 focus-within:border-blue-500 transition-all duration-200"
              >
                <select
                  id="sessionType"
                  [value]="sessionType()"
                  (change)="sessionType.set($any($event.target).value)"
                  required
                  class="w-full bg-transparent text-gray-800 font-semibold py-2 px-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 transition-all duration-200"
                >
                  <option value="Presentatie">Presentatie</option>
                  <option value="Workshop">Workshop</option>
                  <option value="Feedback">Feedback</option>
                </select>
              </div>
            </div>

            <div class="space-y-2">
              <label
                for="eventAbstract"
                class="block text-sm font-semibold text-gray-700 flex items-center gap-2"
              >
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M14.1863 2.7529V6.34867C14.1863 6.8364 14.3807 7.30415 14.7269 7.64902C15.0731 7.9939 15.5426 8.18765 16.0322 8.18765H20.1572"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M20.25 8.56776V17.136C20.23 17.696 20.0995 18.2466 19.8658 18.7563C19.632 19.266 19.2998 19.7248 18.8879 20.1065C18.4761 20.4881 17.9927 20.7852 17.4656 20.9806C16.9384 21.176 16.3777 21.266 15.8156 21.2454H8.22563C7.66013 21.2716 7.09505 21.1857 6.5631 20.9928C6.03115 20.7999 5.54291 20.5037 5.12664 20.1215C4.71037 19.7393 4.37436 19.2786 4.13805 18.7662C3.90175 18.2537 3.76985 17.6996 3.75 17.136V6.86233C3.76995 6.30232 3.90052 5.75172 4.13424 5.24201C4.36795 4.73231 4.70024 4.2735 5.11208 3.89184C5.52393 3.51017 6.00726 3.21313 6.53443 3.01769C7.0616 2.82226 7.62227 2.73228 8.18438 2.75288H13.8975C14.7704 2.74996 15.6128 3.07246 16.2591 3.65696L19.2188 6.37947C19.5351 6.65177 19.7904 6.98732 19.9681 7.36432C20.1457 7.74132 20.2418 8.15135 20.25 8.56776Z"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M7.64709 7.64706H10.9118"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M7.64709 12H16.353"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M7.64709 16.3529H16.353"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>

                Samenvatting
              </label>
              <textarea
                id="eventAbstract"
                rows="4"
                [value]="eventAbstract()"
                (input)="eventAbstract.set($any($event.target).value)"
                required
                class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-4 focus:ring-purple-100 focus:border-purple-500 transition-all duration-200 bg-white/80 backdrop-blur-sm resize-none"
                placeholder="Geef een gedetailleerde beschrijving van het evenement..."
              ></textarea>
            </div>

            <div class="flex gap-4 pt-6">
              <button
                type="button"
                (click)="cancelSelection()"
                class="bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold py-4 px-6 rounded-xl transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl flex items-center justify-center gap-2"
              >
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M6 18L18 6M6 6l12 12"
                  />
                </svg>
                Annuleren
              </button>
              <button
                type="submit"
                [disabled]="!eventName() || !eventAbstract()"
                class="flex-1 bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white font-semibold py-4 px-6 rounded-xl transition-all duration-200 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 shadow-lg hover:shadow-xl flex items-center justify-center gap-2"
              >
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M12 6.86108V17.1389"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M17.1391 12H6.86133"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <rect
                    x="2.75"
                    y="2.75"
                    width="18.5"
                    height="18.5"
                    rx="6"
                    stroke="currentColor"
                    stroke-width="1.5"
                  />
                </svg>

                Aanmaken
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
    }

    <!-- Session Details Modal (Read-only) -->
    @if (showSessionDetails() && selectedSession(); as session) {
    <div
      class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4"
    >
      <div
        class="bg-white rounded-3xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto border border-gray-100"
      >
        <div class="p-8">
          <div class="flex items-center justify-between mb-6">
            <div class="flex items-center gap-4">
              <div
                class="w-12 h-12 bg-gradient-to-r from-indigo-500 to-blue-600 rounded-2xl flex items-center justify-center"
              >
                <svg
                  class="w-6 h-6 text-white"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                  />
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                  />
                </svg>
              </div>
              <h3
                class="text-3xl font-bold bg-gradient-to-r from-indigo-600 to-blue-600 bg-clip-text text-transparent"
              >
                Sessiedetails
              </h3>
            </div>
            <button
              (click)="closeSessionDetails()"
              class="p-2 hover:bg-gray-100 rounded-lg transition-colors duration-200"
            >
              <svg
                class="w-6 h-6 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M6 18L18 6M6 6l12 12"
                />
              </svg>
            </button>
          </div>

          <div class="space-y-6">
            <!-- Session Info Grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-4">
                <div class="flex items-center gap-2 mb-2">
                  <svg
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M8.53125 3.21249H15.4688C16.2047 3.21249 16.9106 3.50486 17.431 4.02527C17.9514 4.54569 18.2438 5.25152 18.2438 5.98749V20.7875H5.75625V5.98749C5.75625 5.25152 6.04862 4.54569 6.56903 4.02527C7.08944 3.50486 7.79527 3.21249 8.53125 3.21249Z"
                      stroke="currentColor"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M2.75 20.7875H21.25"
                      stroke="currentColor"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M11.075 14.3125H12.925C13.293 14.3125 13.6459 14.4587 13.9061 14.7189C14.1663 14.9791 14.3125 15.332 14.3125 15.7V20.7875H9.6875V15.7C9.6875 15.332 9.83368 14.9791 10.0939 14.7189C10.3541 14.4587 10.707 14.3125 11.075 14.3125Z"
                      stroke="currentColor"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M9.225 6.91251H14.775"
                      stroke="currentColor"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M9.225 10.6125H14.775"
                      stroke="currentColor"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>

                  <span class="text-sm font-medium text-blue-700">Ruimte</span>
                </div>
                <p class="text-lg font-semibold text-blue-800">{{ getRoomName(session.room) }}</p>
              </div>

              <div class="bg-gradient-to-r from-emerald-50 to-green-50 rounded-2xl p-4">
                <div class="flex items-center gap-2 mb-2">
                  <svg
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M15.1719 15.1719L12.0053 12.0053V5.67194"
                      stroke="currentColor"
                      stroke-width="1.5"
                      stroke-miterlimit="10"
                      stroke-linecap="round"
                    />
                    <path
                      d="M12 21.5C17.2467 21.5 21.5 17.2467 21.5 12C21.5 6.7533 17.2467 2.5 12 2.5C6.7533 2.5 2.5 6.7533 2.5 12C2.5 17.2467 6.7533 21.5 12 21.5Z"
                      stroke="currentColor"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>

                  <span class="text-sm font-medium text-emerald-700">Tijd</span>
                </div>
                <p class="text-lg font-semibold text-emerald-800">
                  {{ session.startTime }} - {{ session.endTime }}
                </p>
              </div>

              <div class="bg-gradient-to-r from-purple-50 to-pink-50 rounded-2xl p-4">
                <div class="flex items-center gap-2 mb-2">
                  <svg
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M8.88 21.25H18.75C19.413 21.25 20.0489 20.9866 20.5178 20.5178C20.9866 20.0489 21.25 19.413 21.25 18.75V15.12C21.2447 14.4604 20.979 13.8297 20.5107 13.3651C20.0425 12.9006 19.4096 12.64 18.75 12.64H17.48"
                      stroke="currentColor"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M11.38 18.73L17.48 12.62L19.35 10.75C19.5825 10.5186 19.767 10.2436 19.8929 9.9407C20.0188 9.6378 20.0836 9.31302 20.0836 8.985C20.0836 8.65698 20.0188 8.3322 19.8929 8.0293C19.767 7.72641 19.5825 7.45138 19.35 7.22L16.78 4.65C16.5486 4.41749 16.2736 4.23299 15.9707 4.10709C15.6678 3.98119 15.343 3.91638 15.015 3.91638C14.687 3.91638 14.3622 3.98119 14.0593 4.10709C13.7564 4.23299 13.4814 4.41749 13.25 4.65L11.38 6.52"
                      stroke="currentColor"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M8.88 2.75H5.25C3.86929 2.75 2.75 3.86929 2.75 5.25V18.75C2.75 20.1307 3.86929 21.25 5.25 21.25H8.88C10.2607 21.25 11.38 20.1307 11.38 18.75V5.25C11.38 3.86929 10.2607 2.75 8.88 2.75Z"
                      stroke="currentColor"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M7.06501 18.5936C7.94512 18.5936 8.65859 17.8801 8.65859 17C8.65859 16.1199 7.94512 15.4064 7.06501 15.4064C6.18489 15.4064 5.47142 16.1199 5.47142 17C5.47142 17.8801 6.18489 18.5936 7.06501 18.5936Z"
                      stroke="currentColor"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>

                  <span class="text-sm font-medium text-purple-700">Sessietype</span>
                </div>
                <p class="text-lg font-semibold text-purple-800">{{ session.sessionType }}</p>
              </div>

              <div class="bg-gradient-to-r from-orange-50 to-red-50 rounded-2xl p-4">
                <div class="flex items-center gap-2 mb-2">
                  <svg
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M12 21.5C17.2467 21.5 21.5 17.2467 21.5 12C21.5 6.7533 17.2467 2.5 12 2.5C6.7533 2.5 2.5 6.7533 2.5 12C2.5 17.2467 6.7533 21.5 12 21.5Z"
                      stroke="currentColor"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M6.3739 19.6528C6.90736 18.6208 7.71438 17.7554 8.70668 17.1513C9.69897 16.5472 10.8383 16.2277 12 16.2277C13.1617 16.2277 14.301 16.5472 15.2933 17.1513C16.2857 17.7554 17.0926 18.6208 17.6261 19.6528"
                      stroke="currentColor"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M12 13.0556C13.8772 13.0556 15.3989 11.5339 15.3989 9.6567C15.3989 7.77954 13.8772 6.25781 12 6.25781C10.1228 6.25781 8.60114 7.77954 8.60114 9.6567C8.60114 11.5339 10.1228 13.0556 12 13.0556Z"
                      stroke="currentColor"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>

                  <span class="text-sm font-medium text-orange-700">Presentator</span>
                </div>
                <p class="text-lg font-semibold text-orange-800">
                  {{ session.presenter || 'Niet opgegeven' }}
                </p>
              </div>
            </div>

            <!-- Session Name -->
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-gray-700 flex items-center gap-2">
                <svg
                  class="w-4 h-4 text-gray-500"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"
                  />
                </svg>
                Sessienaam
              </label>
              <div
                class="w-full px-4 py-3 border border-gray-300 rounded-xl bg-gray-50 text-gray-700"
              >
                {{ session.name }}
              </div>
            </div>

            <!-- Abstract -->
            <div class="space-y-2">
              <label class="block text-sm font-semibold text-gray-700 flex items-center gap-2">
                <svg
                  class="w-4 h-4 text-gray-500"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                  />
                </svg>
                Samenvatting
              </label>
              <div
                class="w-full px-4 py-3 border border-gray-300 rounded-xl bg-gray-50 text-gray-700 min-h-24"
              >
                {{ session.abstract }}
              </div>
            </div>

            <div class="flex justify-center pt-6">
              <button
                (click)="closeSessionDetails()"
                class="bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold py-4 px-8 rounded-xl transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl flex items-center gap-2"
              >
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M6 18L18 6M6 6l12 12"
                  />
                </svg>
                Sluiten
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    } } @else {
    <!-- Not Found State -->
    <div class="min-h-screen flex items-center justify-center">
      <div
        class="bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/20 p-12 text-center"
      >
        <div
          class="w-20 h-20 bg-gradient-to-r from-red-500 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-6"
        >
          <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"
            />
          </svg>
        </div>
        <h2 class="text-2xl font-bold text-gray-800 mb-2">Evenement Niet Gevonden</h2>
        <p class="text-gray-600">Het gevraagde evenement kon niet worden gevonden.</p>
      </div>
    </div>
    }
  </div>
</div>
