<div class="min-h-screen bg-gradient-to-br from-violet-50 via-purple-50 to-indigo-50 py-8 px-4">
  <div class="max-w-4xl mx-auto">
    <!-- Header Section -->
    <div class="text-center mb-12">
      <div class="inline-flex items-center gap-4 mb-4">
        <div
          class="w-14 h-14 bg-gradient-to-r from-violet-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg"
        >
          <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64">
            <path
              fill="white"
              d="M57.656 22.278c-3.688-3.505-8.007-4.974-9.645-3.279c-.021.021-.035.046-.055.068a1.7 1.7 0 0 0-.54.79c-.561 1.743-1.308 3.763-1.938 5.185c-.199-4.732-2.151-9.151-5.549-12.52C36.342 8.961 31.572 7 26.496 7c-5.075 0-9.848 1.961-13.437 5.521s-5.565 8.292-5.565 13.325c0 1.968.295 3.879.871 5.693a63 63 0 0 1-.96-.76a2.16 2.16 0 0 0-.574-1.392c-.437-.471-1.057-.733-1.741-.733c-.726 0-1.479.307-2.064.842c-1.186 1.087-1.367 2.738-.415 3.761c.478.516 1.041.649 1.427.687c.195.199 3.959 4.049 5.353 5.313c1.318 1.193 2.974 2.32 4.918 3.35a22.7 22.7 0 0 0 6.24 2.216c.733.149 1.508.274 2.383.384v6.553c-.934.742-.954 2.595-.954 3.41h.03c0 1.01.828 1.831 1.849 1.831s1.849-.821 1.849-1.831c0 1.01.825 1.831 1.846 1.831a1.84 1.84 0 0 0 1.849-1.831h.03c0-.823-.021-2.709-.955-3.436v-6.12h.045a.92.92 0 0 0 .88.703c.45 0 .816-.337.893-.765a31 31 0 0 0 3.373-.382c2.078-.35 4.2-.921 6.307-1.697a42 42 0 0 0 5.482-2.496a49 49 0 0 0 4.537-2.805a53 53 0 0 0 2.637-1.959c1.643-1.22 5.625-3.045 7.627-3.909q.55-.135.948-.467q.075-.056.145-.12l.024-.021c.013-.014.022-.03.035-.044c.191-.197.343-.429.422-.693c.734-1.989-.941-5.607-4.175-8.681M30.263 35.574a.93.93 0 0 0-.865-.633a.93.93 0 0 0-.925.918c0-.5-.42-.918-.924-.918s-.922.418-.922.918a.93.93 0 0 0-.924-.918a.93.93 0 0 0-.925.918a.93.93 0 0 0-.924-.918a.92.92 0 0 0-.884.721c-4.068-1.442-6.993-5.292-6.993-9.816c0-5.751 4.719-10.431 10.518-10.431s10.516 4.679 10.516 10.431c.001 4.434-2.807 8.22-6.748 9.728m-3.636 16.185c-.65.517-.857 1.564-.924 2.433c-.065-.881-.274-1.95-.925-2.458v-6.333a.93.93 0 0 0 .925.916a.92.92 0 0 0 .892-.762l.032.002zm24.941-16.901a52 52 0 0 1-2.569 1.911a48 48 0 0 1-4.376 2.705a40 40 0 0 1-5.256 2.393a33.5 33.5 0 0 1-5.995 1.615a30 30 0 0 1-3.05.352v-6.459c4.881-1.599 8.417-6.159 8.417-11.529c0-6.694-5.491-12.143-12.243-12.143s-12.244 5.449-12.244 12.143c0 5.467 3.66 10.098 8.679 11.615v6.011a29 29 0 0 1-2.039-.328a22 22 0 0 1-3.01-.832a21 21 0 0 1-2.762-1.218c-1.734-.919-3.289-1.947-4.565-3.103c-1.376-1.248-5.27-5.232-5.27-5.232c-.349-.363-.354-.483-.755-.506c-.289-.016-.489.016-.651-.159c-.291-.313-.15-.913.315-1.339c.28-.255.611-.39.896-.39c.19 0 .359.061.477.187c.155.166.11.401.115.668c.005.225.219.544.534.806q.89.724 1.91 1.489a41 41 0 0 0 3.812 2.542q.593.344 1.21.667a16.92 16.92 0 0 1-3.927-10.879c0-4.576 1.797-8.878 5.061-12.114c3.262-3.237 7.601-5.02 12.215-5.02s8.952 1.783 12.214 5.02c3.263 3.235 5.06 7.538 5.06 12.114c0 1.681-.242 3.324-.711 4.891q.283-.263.553-.521a42 42 0 0 0 2.297-2.4c.64-.758 1.464-2.733 2.11-4.459c.708 1.622 1.979 3.417 3.707 5.06c1.732 1.646 3.603 2.844 5.27 3.475c-1.906.891-4.188 2.041-5.429 2.967"
            />
          </svg>
        </div>
        <h2
          class="text-5xl font-bold bg-gradient-to-r from-violet-600 to-purple-600 bg-clip-text text-transparent"
        >
          Evenementen Dashboard
        </h2>
      </div>
      <p class="text-gray-600 text-lg max-w-2xl mx-auto">
        CreÃ«er evenementen met onze intuÃ¯tieve evenementenplanning app
      </p>
    </div>

    <!-- Event Creation Form (only shown when authenticated) -->
    @if (isAuthenticated()) {
    <div
      class="bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/20 p-8 mb-12"
    >
      <div class="flex items-center gap-3 mb-8">
        <div
          class="w-10 h-10 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center"
        >
          <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M12 6v6m0 0v6m0-6h6m-6 0H6"
            />
          </svg>
        </div>
        <h3 class="text-2xl font-bold text-gray-800">Nieuw Evenement Aanmaken</h3>
      </div>

      <form (ngSubmit)="onSubmit()" class="space-y-6">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <!-- Title Field -->
          <div class="space-y-2">
            <label
              for="title"
              class="block text-sm font-semibold text-gray-700 flex items-center gap-2"
            >
              <svg
                class="w-4 h-4 text-gray-500"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"
                />
              </svg>
              Titel
            </label>
            <input
              id="title"
              type="text"
              [value]="title()"
              (input)="setTitle($event.target.value)"
              required
              class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-4 focus:ring-violet-100 focus:border-violet-500 transition-all duration-200 bg-white/80 backdrop-blur-sm placeholder-gray-400"
              placeholder="Voer evenementtitel in..."
            />
          </div>

          <!-- Date Field -->
          <div class="space-y-2">
            <label
              for="date"
              class="block text-sm font-semibold text-gray-700 flex items-center gap-2"
            >
              <svg
                class="w-4 h-4 text-gray-500"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M8 7V3a1 1 0 011-1h6a1 1 0 011 1v4m-8 0v10a2 2 0 002 2h8a2 2 0 002-2V7H8z"
                />
              </svg>
              Datum
            </label>
            <input
              id="date"
              type="date"
              [value]="date()"
              (input)="setDate($event.target.value)"
              required
              class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-4 focus:ring-violet-100 focus:border-violet-500 transition-all duration-200 bg-white/80 backdrop-blur-sm"
            />
          </div>

          <!-- Start Time Field -->
          <div class="space-y-2">
            <label
              for="startHour"
              class="block text-sm font-semibold text-gray-700 flex items-center gap-2"
            >
              <svg
                class="w-4 h-4 text-gray-500"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"
                />
              </svg>
              Starttijd
            </label>
            <input
              id="startHour"
              type="time"
              step="1800"
              [value]="startHour()"
              (input)="setStartHour($event.target.value)"
              required
              class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-4 focus:ring-violet-100 focus:border-violet-500 transition-all duration-200 bg-white/80 backdrop-blur-sm"
            />
          </div>

          <!-- End Time Field -->
          <div class="space-y-2">
            <label
              for="endHour"
              class="block text-sm font-semibold text-gray-700 flex items-center gap-2"
            >
              <svg
                class="w-4 h-4 text-gray-500"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"
                />
              </svg>
              Eindtijd
            </label>
            <input
              id="endHour"
              type="time"
              step="1800"
              [value]="endHour()"
              (input)="setEndHour($event.target.value)"
              required
              class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-4 focus:ring-violet-100 focus:border-violet-500 transition-all duration-200 bg-white/80 backdrop-blur-sm"
            />
          </div>
        </div>

        <!-- Error Message -->
        @if (errorMessage()) {
        <div class="bg-red-50 border-l-4 border-red-400 p-4 rounded-lg">
          <div class="flex items-center">
            <svg
              class="w-5 h-5 text-red-400 mr-3"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"
              />
            </svg>
            <p class="text-red-700 font-medium">{{ errorMessage() }}</p>
          </div>
        </div>
        }

        <!-- Submit Button -->
        <div class="flex justify-center pt-4">
          <button
            type="submit"
            [disabled]="!isFormValid()"
            class="bg-gradient-to-r from-violet-500 to-purple-600 hover:from-violet-600 hover:to-purple-700 text-white font-semibold py-4 px-8 rounded-xl transition-all duration-200 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 shadow-lg hover:shadow-xl flex items-center gap-3"
          >
            Evenement Aanmaken
          </button>
        </div>
      </form>
    </div>
    } @else {
    <!-- Read-Only Message -->
    <div
      class="bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/20 p-8 mb-12"
    >
      <div class="text-center py-8">
        <div
          class="w-16 h-16 bg-gradient-to-r from-violet-100 to-purple-100 rounded-full flex items-center justify-center mx-auto mb-4"
        >
          <svg
            class="w-8 h-8 text-violet-500"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"
            />
          </svg>
        </div>
        <h3 class="text-2xl font-bold text-gray-800 mb-2">Alleen-lezen weergave</h3>
        <p class="text-gray-600 mb-4">Log in om evenementen aan te maken en te beheren.</p>
        <p class="text-sm text-gray-500">
          Je kunt hieronder evenementen bekijken, maar je moet ingelogd zijn om ze aan te maken of
          te verwijderen.
        </p>
      </div>
    </div>
    }

    <!-- Events List -->
    <div class="bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/20 p-8">
      <div class="flex items-center gap-3 mb-8">
        <h3 class="text-2xl font-bold text-gray-800">Aankomende evenementen</h3>
      </div>

      @if (eventsLoading()) {
      <!-- Loading State -->
      <div class="flex flex-col items-center justify-center py-12">
        <div class="relative w-16 h-16 mb-4">
          <div class="absolute inset-0 border-4 border-violet-200 rounded-full"></div>
          <div
            class="absolute inset-0 border-4 border-violet-600 rounded-full border-t-transparent animate-spin"
          ></div>
        </div>
        <p class="text-gray-600 font-medium">Evenementen laden...</p>
      </div>
      } @else if (events().length === 0) {
      <!-- Empty State -->
      <div class="flex flex-col items-center justify-center py-12">
        <div
          class="w-20 h-20 bg-gradient-to-r from-violet-100 to-purple-100 rounded-full flex items-center justify-center mb-4"
        >
          <svg
            class="w-10 h-10 text-violet-500"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M8 7V3a1 1 0 011-1h6a1 1 0 011 1v4m-6 0h6m-6 0V7m6 0V7M5 7h14l-1 12H6L5 7z"
            />
          </svg>
        </div>
        <p class="text-gray-600 font-medium">Nog geen evenementen</p>
        <p class="text-gray-500 text-sm mt-1">Maak je eerste evenement aan!</p>
      </div>
      } @else {
      <!-- Events List -->
      <div class="grid gap-4">
        @for (event of events(); track $index; let i = $index) {
        <div class="group">
          <div
            class="bg-gradient-to-r from-white to-gray-50 hover:from-violet-50 hover:to-purple-50 rounded-2xl p-6 border border-gray-200 hover:border-violet-300 transition-all duration-200 hover:shadow-lg transform hover:-translate-y-1"
          >
            <div class="flex items-center justify-between">
              <!-- Event content (clickable area) -->
              <div
                class="flex items-center gap-4 flex-1 cursor-pointer"
                (click)="navigateToEvent(event.date)"
              >
                <div
                  class="w-12 h-12 bg-gradient-to-r from-violet-400 to-purple-500 rounded-xl flex items-center justify-center text-white font-bold text-lg shadow-md"
                >
                  {{ event.date | date : 'd' }}
                </div>
                <div>
                  <h4
                    class="text-xl font-bold text-gray-900 group-hover:text-violet-700 transition-colors duration-200"
                  >
                    {{ event.title }}
                  </h4>
                  <div class="flex items-center gap-4 mt-2">
                    <span
                      class="inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800"
                    >
                      ğŸ“… {{ event.date | date : 'MMM d, y' }}
                    </span>
                    <span
                      class="inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium bg-emerald-100 text-emerald-800"
                    >
                      ğŸ• {{ event.startHour }} - {{ event.endHour }}
                    </span>
                  </div>
                </div>
              </div>

              <!-- Action buttons -->
              <div class="flex items-center gap-2">
                <!-- Delete button (only shown when authenticated) -->
                @if (isAuthenticated()) {
                <button
                  (click)="deleteEvent(event.id); $event.stopPropagation()"
                  class="p-2 bg-red-100 hover:bg-red-500 text-red-600 hover:text-white rounded-lg transition-all duration-200 hover:scale-110 opacity-75 group-hover:opacity-100 shadow-md hover:shadow-lg"
                  title="Verwijder evenement"
                >
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"
                    />
                  </svg>
                </button>
                }

                <!-- Navigation arrow -->
                <div class="opacity-0 group-hover:opacity-100 transition-opacity duration-200">
                  <svg
                    class="w-6 h-6 text-violet-500"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M9 5l7 7-7 7"
                    />
                  </svg>
                </div>
              </div>
            </div>
          </div>
        </div>
        }
      </div>
      }
    </div>
  </div>
</div>
